<table class="table">
  <thead class="thead-light">
    <tr>
      <th [style.width]="column.size" *ngFor="let column of columns">
        {{ column.header | titlecase }}
      </th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let row of data">
      <td valign="middle" *ngFor="let column of columns">
        <ng-container *ngIf="column.template; else rawValue">
          <ng-container
            *ngTemplateOutlet="
              column.template;
              context: {
                $implicit: column.enableFullObject ? row : row[column.key]
              }
            "
          ></ng-container>
        </ng-container>

        <ng-template #rawValue>
          <ng-container *ngIf="column.key != 'image'; else img">
            <span
              [class]="column.classes"
              *ngIf="column.isObject == true; else notObj"
            >
              {{ row[column.key][column.objProperty] }}
            </span>
            <ng-template #notObj>
              <span>
                {{ row[column.key] }}
              </span>
            </ng-template>
          </ng-container>
          <ng-template #img>
            <div [class]="column.classes">
              <image
                *ngIf="row[column.key]"
                [src]="imgPath + '/' + row[column.key]"
                width="30"
              ></image>
              <image
                [placeholder]="'as'"
                src
                *ngIf="!row[column.key]"
                width="30"
              ></image>
            </div>
          </ng-template>
        </ng-template>
      </td>
    </tr>
  </tbody>
</table>

<pagination
  [pager]="pager"
  (previous)="onPreviousPage($event)"
  (next)="onNextPage($event)"
></pagination>
